"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const del = require('del');
const execa = require('execa');
function npmInstall({ skipCleanup, yarn }) {
    return yarn ?
        // if yarn
        [{
                title: 'Clean install dependencies',
                task: () => execa('yarn', [skipCleanup ? '' : 'upgrade'])
            }]
        // else npm
        : [
            {
                title: 'Node modules cleanup',
                task: () => del('node_modules'),
                skip: () => skipCleanup
            },
            {
                // todo: maybe install only dev dependencies
                title: 'Installing dependencies',
                task: () => execa('npm', ['install']),
                skip: () => skipCleanup
            }
        ];
}
exports.npmInstall = npmInstall;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibnBtLWluc3RhbGwudGFzay5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90YXNrcy9ucG0vbnBtLWluc3RhbGwudGFzay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sR0FBRyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUMzQixNQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7QUFJL0Isb0JBQTJCLEVBQUMsV0FBVyxFQUFFLElBQUksRUFBQztJQUM1QyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDWCxVQUFVO1FBQ1YsQ0FBQztnQkFDQyxLQUFLLEVBQUUsNEJBQTRCO2dCQUNuQyxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQzthQUMxRCxDQUFDO1FBQ0YsV0FBVztRQUNYLENBQUMsQ0FBQztZQUNGO2dCQUNFLEtBQUssRUFBRSxzQkFBc0I7Z0JBQzdCLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDO2dCQUMvQixJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUMsV0FBVzthQUN4QjtZQUNEO2dCQUNFLDRDQUE0QztnQkFDNUMsS0FBSyxFQUFFLHlCQUF5QjtnQkFDaEMsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxLQUFLLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQztnQkFDckMsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLFdBQVc7YUFDeEI7U0FDRixDQUFDO0FBQ0osQ0FBQztBQXJCRCxnQ0FxQkMifQ==